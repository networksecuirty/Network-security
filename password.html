<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Strong Password Generator</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9aa6bf; --accent:#7c3aed; --good:#16a34a; --warn:#f59e0b; --danger:#ef4444;
      --glass: rgba(255,255,255,0.02);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}


    nav {
      background: #111;
      padding: 12px 0;
      border-bottom: 1px solid #00f0b5;
      box-shadow: 0 0 12px rgba(0,0,0,0.5);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 3;
    }
    nav ul {
      display: flex;
      justify-content: center;
      gap: 24px;
      list-style: none;
      margin: 0;
      padding: 0;
    }
    nav ul li a {
      color: white;
      font-size: 18px;
      text-decoration: none;
      font-weight: 600;
      transition: 0.2s ease;
    }
    nav ul li a:hover {
      color: #00f0b5;
      text-shadow: 0 0 8px #00f0b5;
    }


    body{
      margin:0;
      min-height:100vh;

      background: radial-gradient(circle at top, #23493f 0%, #1b3b32 70%, #0f1f1a 100%);
      background-attachment: fixed;
      color:#e6eef8;

      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      padding-top:96px; 
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image:
          linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px),
          linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    .card{
      width:100%;
      max-width:880px;
      background:var(--card);
      border-radius:12px;
      padding:24px;
      box-shadow:0 8px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
      position: relative;
      z-index: 2;
    }

    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 20px;color:var(--muted)}

    .grid{display:grid;grid-template-columns:1fr 320px;gap:20px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}

    .controls{display:flex;flex-direction:column;gap:12px}
    .row{display:flex;gap:12px;align-items:center}
    label{display:block;font-size:13px;color:var(--muted)}
    .range-wrap{display:flex;align-items:center;gap:12px}
    input[type=range]{flex:1}
    .toggle{display:flex;align-items:center;gap:8px}
    .checkbox{display:flex;align-items:center;gap:8px}
    input[type=checkbox]{width:18px;height:18px}

    .output{background:var(--glass);padding:16px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
    .password{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; font-size:16px;padding:10px;border-radius:8px;background:rgba(0,0,0,0.25);display:flex;align-items:center;justify-content:space-between;gap:12px}
    .pw-text{overflow:auto;white-space:nowrap}
    .btn{background:linear-gradient(180deg,var(--accent),#5b21b6);border:none;color:white;padding:10px 14px;border-radius:8px;cursor:pointer}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.04)}

    .meter{height:10px;background:rgba(255,255,255,0.05);border-radius:99px;overflow:hidden}
    .meter > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--danger),var(--warn),var(--good));transition:width .25s ease}

    .meta{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
    .chip{background:rgba(255,255,255,0.02);padding:6px 10px;border-radius:999px;font-size:13px;color:var(--muted);border:1px solid rgba(255,255,255,0.02)}

    footer{margin-top:16px;color:var(--muted);font-size:13px}
    a.link{color:var(--accent);text-decoration:none}

    .btn:focus,.pw-text:focus,input:focus{outline:3px solid rgba(124,58,237,0.18);outline-offset:2px}
  </style>
</head>

<body>

  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="play.html">Play</a></li>
      <li><a href="articles.html">Articles</a></li>
      <li><a href="password.html">Tools</a></li>
      <li><a href="contact.html">Contact Us</a></li>
    </ul>
  </nav>

  <main class="card" role="main">
    <h1>Strong Password Generator</h1>
    <p class="lead">Create secure, random passwords with configurable length and character sets.</p>

    <section class="grid" aria-labelledby="generator">
      <div>
        <div class="controls" id="generator">

          <div>
            <label for="length">Length: <strong id="lengthVal">16</strong></label>
            <div class="range-wrap">
              <input id="length" type="range" min="8" max="64" value="16" />
            </div>
          </div>

          <div class="row">
            <div class="checkbox"><input id="lower" type="checkbox" checked /><label for="lower">Lowercase (a–z)</label></div>
            <div class="checkbox"><input id="upper" type="checkbox" checked /><label for="upper">Uppercase (A–Z)</label></div>
            <div class="checkbox"><input id="numbers" type="checkbox" checked /><label for="numbers">Numbers (0–9)</label></div>
            <div class="checkbox"><input id="symbols" type="checkbox" checked /><label for="symbols">Symbols (!@#$...)</label></div>
          </div>

          <div class="row">
            <div class="checkbox"><input id="avoid-ambiguous" type="checkbox" /><label for="avoid-ambiguous">Avoid ambiguous (O,0,l,1)</label></div>
            <div class="checkbox"><input id="pronounceable" type="checkbox" /><label for="pronounceable">Pronounceable-friendly</label></div>
          </div>

          <div class="row">
            <button id="generate" class="btn">Generate</button>
            <button id="copyBtn" class="btn secondary">Copy</button>
            <button id="downloadBtn" class="btn secondary">Download</button>
          </div>

          <div style="margin-top:6px">
            <label for="seed">Optional seed:</label>
            <input id="seed" type="text" placeholder="optional passphrase" style="width:100%;padding:8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:inherit;margin-top:6px" />
          </div>

        </div>
      </div>

      <aside>
        <div class="output" aria-live="polite">
          <div class="password">
            <code id="password" class="pw-text" tabindex="0">—</code>
            <div style="display:flex;gap:8px">
              <button id="showBtn" class="btn secondary">Show</button>
              <button id="regenerate" class="btn">↻</button>
            </div>
          </div>

          <div style="margin-top:12px">
            <label>Strength</label>
            <div class="meter"><i id="meterFill"></i></div>
            <div class="meta" style="margin-top:8px">
              <div class="chip" id="score">Entropy: — bits</div>
              <div class="chip" id="timeToCrack">Est. crack time: —</div>
              <div class="chip" id="label">Strength: —</div>
            </div>
          </div>

          <footer>
            Tip: Use length ≥ 12 and multiple character types.
          </footer>
        </div>
      </aside>
    </section>

  </main>


  <script>
    const sets = {
      lower: 'abcdefghijklmnopqrstuvwxyz',
      upper: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
      numbers: '0123456789',
      symbols: '!@#$%^&*()-_=+[]{};:,.<>?/~`|\\'
    };

    const lengthEl = document.getElementById('length');
    const lengthVal = document.getElementById('lengthVal');
    const lowerEl = document.getElementById('lower');
    const upperEl = document.getElementById('upper');
    const numbersEl = document.getElementById('numbers');
    const symbolsEl = document.getElementById('symbols');
    const avoidAmbiguousEl = document.getElementById('avoid-ambiguous');
    const pronounceableEl = document.getElementById('pronounceable');
    const generateBtn = document.getElementById('generate');
    const passwordEl = document.getElementById('password');
    const copyBtn = document.getElementById('copyBtn');
    const meterFill = document.getElementById('meterFill');
    const scoreEl = document.getElementById('score');
    const labelEl = document.getElementById('label');
    const timeEl = document.getElementById('timeToCrack');
    const showBtn = document.getElementById('showBtn');
    const regenerateBtn = document.getElementById('regenerate');
    const downloadBtn = document.getElementById('downloadBtn');
    const seedEl = document.getElementById('seed');

    const ambiguous = 'O0oIl1';

    function buildPool(options){
      let pool = '';
      if(options.lower) pool += sets.lower;
      if(options.upper) pool += sets.upper;
      if(options.numbers) pool += sets.numbers;
      if(options.symbols) pool += sets.symbols;
      if(options.avoidAmbiguous) pool = pool.split('').filter(c=>!ambiguous.includes(c)).join('');
      return Array.from(new Set(pool)).join('');
    }

    function secureRandomInt(max){
      const array = new Uint32Array(1);
      crypto.getRandomValues(array);
      return array[0] % max;
    }

    function seededRandom(seed){
      let h = 2166136261 >>> 0;
      for (let i=0;i<seed.length;i++){
        h ^= seed.charCodeAt(i);
        h = Math.imul(h,16777619) >>> 0;
      }
      let state = h || 1;
      return function(){
        state ^= state << 13;
        state ^= state >>> 17;
        state ^= state << 5;
        state = state >>> 0;
        return state / 0xFFFFFFFF;
      }
    }

    function generatePassword(options){
      const pool = buildPool(options);
      if(!pool.length) return '';

      const useSeed = options.seed && options.seed.trim().length > 0;
      const rnd = useSeed ? seededRandom(options.seed) : null;

      let pw = '';
      for(let i=0;i<options.length;i++){
        const idx = useSeed ? Math.floor(rnd()*pool.length) : secureRandomInt(pool.length);
        pw += pool.charAt(idx);
      }
      return pw;
    }

    function estimateEntropy(length, poolSize){
      if(poolSize<=1) return 0;
      return Math.round(length * Math.log2(poolSize));
    }

    function entropyToLabel(e){
      if(e < 28) return {label:'Very weak', pct:10};
      if(e < 36) return {label:'Weak', pct:30};
      if(e < 60) return {label:'Moderate', pct:55};
      if(e < 80) return {label:'Strong', pct:80};
      return {label:'Very strong', pct:100};
    }

    function timeToCrackSeconds(entropy){
      const guesses = 2**entropy;
      return guesses / 1e10;
    }

    function humanDuration(seconds){
      if(!isFinite(seconds) || seconds>1e18) return 'practically infinite';
      const units = [ ['years',31536000], ['days',86400], ['hours',3600], ['minutes',60], ['seconds',1] ];
      let s = Math.round(seconds);
      const parts = [];
      for(const [name,div] of units){
        if(s>=div){
          const v = Math.floor(s/div);
          parts.push(v + ' ' + name);
          s -= v*div;
        }
        if(parts.length===2) break;
      }
      return parts.join(' ');
    }

    function updateUI(pw){
      passwordEl.textContent = pw || '—';
      const options = currentOptions();
      const pool = buildPool(options);
      const entropy = estimateEntropy(options.length, pool.length);
      scoreEl.textContent = `Entropy: ${entropy} bits`;
      const info = entropyToLabel(entropy);
      labelEl.textContent = `Strength: ${info.label}`;
      meterFill.style.width = info.pct + '%';
      timeEl.textContent = `Est. crack time: ${humanDuration(timeToCrackSeconds(entropy))}`;
    }

    function currentOptions(){
      return {
        length: Number(lengthEl.value),
        lower: lowerEl.checked,
        upper: upperEl.checked,
        numbers: numbersEl.checked,
        symbols: symbolsEl.checked,
        avoidAmbiguous: avoidAmbiguousEl.checked,
        pronounceable: pronounceableEl.checked,
        seed: seedEl.value
      }
    }

    lengthEl.addEventListener('input', ()=>{ lengthVal.textContent = lengthEl.value; });

    function doGenerate(){
      const opts = currentOptions();
      const pw = generatePassword(opts);
      updateUI(pw);
      passwordEl.title = pw;
    }

    generateBtn.addEventListener('click', doGenerate);
    regenerateBtn.addEventListener('click', doGenerate);

    copyBtn.addEventListener('click', async ()=>{
      const text = passwordEl.textContent;
      if(!text || text==='—') return;
      await navigator.clipboard.writeText(text).catch(()=>{});
      copyBtn.textContent = 'Copied';
      setTimeout(()=>copyBtn.textContent='Copy',1200);
    });

    showBtn.addEventListener('click', ()=>{
      const pressed = showBtn.getAttribute('aria-pressed') === 'true';
      showBtn.setAttribute('aria-pressed', String(!pressed));
      if(!pressed){
        passwordEl.style.filter = 'none';
        passwordEl.style.webkitTextSecurity = 'none';
      }else{
        passwordEl.style.webkitTextSecurity = 'disc';
      }
    });

    downloadBtn.addEventListener('click', ()=>{
      const text = passwordEl.textContent;
      if(!text || text==='—') return;
      const blob = new Blob([text], {type:'text/plain;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'password.txt';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });

    (function init(){
      passwordEl.style.webkitTextSecurity = 'disc';
      lengthVal.textContent = lengthEl.value;
      doGenerate();
    })();
  </script>

</body>
</html>
